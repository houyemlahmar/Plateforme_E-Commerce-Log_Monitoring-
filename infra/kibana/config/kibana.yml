server.name: "kibana"
server.host: "0.0.0.0"
server.port: 5601

elasticsearch.hosts: ["http://elasticsearch:9200"]

# Disable security
xpack.security.enabled: false
xpack.encryptedSavedObjects.encryptionKey: "something_at_least_32_characters_long"

# Allow embedding in iframes (disable X-Frame-Options)
server.customResponseHeaders:
  X-Frame-Options: "ALLOWALL"

# CORS configuration to allow iframe embedding
server.cors.enabled: true
server.cors.allowOrigin: ["http://localhost:5000", "http://127.0.0.1:5000"]
server.cors.allowCredentials: true

# Monitoring
monitoring.ui.container.elasticsearch.enabled: true

# Logging configuration for Kibana 8.x
logging:
  appenders:
    file:
      type: file
      fileName: /usr/share/kibana/logs/kibana.log
      layout:
        type: json
  root:
    appenders: [file]
    level: info
